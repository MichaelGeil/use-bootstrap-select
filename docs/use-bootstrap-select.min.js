"use strict";(()=>{var d=class{t;f;L;c;b;o;h;T="use-bootstrap-select";y="d-flex align-items-center gap-1 text-start";N=this.y.replace("text-start","flex-wrap");C="dropdown-menu w-100";k="ms-auto link-secondary d-inline-flex";A="form-control shadow-none";s="d-none";O="d-inline-flex align-items-center gap-1 px-2 text-bg-secondary";E="var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x)";g='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>';$;i;v;B;l;n;a;r;u=0;d;constructor(t){this.t=t;let{ubSelectClear:e,ubSelectSearch:s,ubSelectCreate:i,ubSelectMaxHeight:n}=t.dataset;this.c=e!==void 0,this.f=s!==void 0,this.L=i!==void 0,this.b=n||"25rem",this.o=t.multiple,this.h=t.disabled;let a=t.nextElementSibling;a&&a.classList.contains(this.T)&&a.remove();let h=this.e("div",{className:`dropdown ${this.T}`}),r=this.e("button",{type:"button",disabled:this.h,className:`${this.y} ${t.classList.value}`});r.setAttribute("data-bs-toggle","dropdown"),r.setAttribute("aria-expanded","false");let v=this.e("div",{className:this.N});r.append(v),this.v=v;let o=this.e("div",{className:this.C});o.style.maxHeight=this.b;let u=this.e("div");if(o.append(u),this.l=u,this.c){let l=this.e("span",{className:`${this.s} ${this.k}`,title:"Clear selection",innerHTML:this.g});r.append(l),this.n=l}if(this.f){let l=this.e("input",{type:"text",className:this.A,placeholder:"Search"});t.classList.contains("form-select-sm")&&l.classList.add("form-control-sm"),t.classList.contains("form-select-lg")&&l.classList.add("form-control-lg");let p=this.e("div");p.style.padding=this.E,p.append(l),o.prepend(p);let c=this.e("div",{textContent:"No results found",className:this.s});c.style.padding=this.E,o.append(c),this.a=l,this.r=c}t.insertAdjacentElement("afterend",h),t.classList.add(this.s),h.append(r),o.style.fontSize=`${this.M(r,"font-size")}rem`,h.append(o),this.$=h,this.i=r,this.B=o,this.d=bootstrap.Dropdown.getOrCreateInstance(r);let m=this.M(r,"border-radius");this.u=m>.0625?m-.0625:0,this.H(),this.D()}H(){this.v.innerHTML="",this.l.innerHTML="",this.V().reverse().forEach(t=>this.v.prepend(t)),this.j().forEach(t=>this.l.append(t)),this.c&&this.n&&(this.P()?this.n.classList.add(this.s):this.n.classList.remove(this.s)),this.a&&(this.a.value=""),this.w()}D(){this.i.addEventListener("shown.bs.dropdown",()=>{if(this.a)this.a.focus();else{let s=this.l.querySelector(".active");s&&s.focus()}}),this.n&&this.n.addEventListener("click",s=>{s.stopPropagation(),this.d.toggle(),Array.from(this.t.options).forEach(i=>i.selected=!1),this.x()&&(this.t.value=""),this.p()});let t=this.a;t&&t.addEventListener("keyup",s=>{let i=t.value.trim(),n=0;if(this.l.querySelectorAll("button").forEach(a=>{a.classList.add(this.s),a.innerHTML.toLowerCase().includes(i.toLowerCase())&&(a.classList.remove(this.s),n++)}),this.r){if(n>0)this.r.classList.add(this.s);else if(this.r.classList.remove(this.s),this.L&&(this.r.innerHTML=`Press Enter to add "<b>${i}</b>"`,s.key==="Enter")){let a=this.e("option",{value:i,selected:!0,textContent:i});this.t.add(a,this.t.firstChild),this.d.toggle(),this.p(),this.i.focus(),this.r.classList.add(this.s)}}});let e=this.t.form;e&&new MutationObserver(i=>{i.forEach(n=>{n.attributeName==="class"&&this.w()})}).observe(e,{attributes:!0,attributeFilter:["class"]}),this.t.addEventListener("change",()=>this.H())}e(t,e){let s=document.createElement(t);if(e){for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let n=e[i];i==="style"&&typeof n=="object"?Object.assign(s.style,n):s[i]=n}}return s}V(){let t=Array.from(this.t.selectedOptions);return t.length<1&&this.o&&this.x()&&t.push(this.t.options[0]),t.map(e=>e.value===""?this.q(e):this.o?this.I(e):e.innerHTML)}j(){let t=[];return this.t.querySelectorAll(":scope>*").forEach(e=>{if(e instanceof HTMLOptionElement&&e.value!==""&&t.push(this.S(e)),e instanceof HTMLOptGroupElement){let s=this.e("h6",{className:"dropdown-header",innerHTML:e.label});t.push(s),e.querySelectorAll("option").forEach(i=>t.push(this.S(i,!0)))}}),t}x(){return this.t.options.length>0&&this.t.options[0].value===""}q(t){let e=this.e("span",{innerHTML:t.innerHTML});return e.style.color="var(--bs-secondary-color)",e}I(t){let e=this.e("span",{className:`${this.O}${this.h?" bg-opacity-50":""}`,textContent:t.innerHTML});this.u>0&&(e.style.borderRadius=`${this.u}rem`);let s=this.e("span",{className:"d-inline-flex",innerHTML:this.g});return this.h||(s.onclick=()=>{this.d.toggle(),this.removeValue(t.value)}),e.prepend(s),e}S(t,e=!1){let s=this.e("button",{type:"button",disabled:t.selected&&this.o||t.disabled,innerHTML:t.innerHTML,className:`dropdown-item${t.selected?" active":""}`});return e&&(s.style.paddingLeft="calc(var(--bs-dropdown-item-padding-x) * 2)"),s.addEventListener("click",()=>{this.setValue(t.value),this.i.focus()}),s}m(t,e){Array.from(this.t.options).forEach(s=>s.value===t&&(s.selected=e))}p(){this.t.dispatchEvent(new Event("change"))}P(){let t=this.getValue();return(Array.isArray(t)?t:[t]).filter(s=>s!=="").length<1}M(t,e){return Number.parseFloat(window.getComputedStyle(t).getPropertyValue(e))/16}w(){let t=this.t.form;t&&(this.i.classList.remove("is-valid","is-invalid"),t.classList.contains("was-validated")&&this.i.classList.add(this.t.validity.valid?"is-valid":"is-invalid"))}setValue(t){this.m(t,!0),t!==""&&this.m("",!1),this.p()}getValue(){return this.o?Array.from(this.t.selectedOptions).map(t=>t.value):this.t.value}removeValue(t){this.m(t,!1),this.p()}};window.UseBootstrapSelect=d;})();
